import MainLayout from "../../layouts/MainLayout.astro";
import ReactSample from "../../components/ReactSample.jsx";

<MainLayout>
# CH1. Adding Interactivity
`Some things on the screen update in response to user input.
 For example, clicking an image gallery switches the active image.
  In React, data that changes over time is called state. 
  You can add state to any component, and update it as needed.
   In this chapter, you’ll learn how to write components that handle interactions, update their state, and display different output over time.`

- 사용자가 시작한 이벤트를 처리하는 방법
- 컴포넌트가 state와 함께 정보를 기억하도록 하는 방법
- React가 두 단계로 UI를 업데이트 하는 방법
- state를 변경한 직후에 state가 변경되지 않는 이유
- 여러 state 업데이트를 대기열에 추가하는 방법
- 객체 state를 업데이트 하는 방법
- 배열 state를 업데이트 하는 방법

## 1. Responding to Events

> Different ways to write an event handler<br/>
> How to pass event handling logic from a parent component<br/>
> How events propagate and how to stop them<br/>
> 이벤트 핸들러를 처리하는 여러가지 방법<br>
> 부모 컴포넌트에서 이벤트 처리 로직을 전달하는 방법<br/>
> 이벤트 전파와 방지 방법

<br />{" "}

### Adding event handlers

- 이벤트를 추가하려면, 먼저 함수를 정의한다.
- 이벤트에서 호출되는 함수를 선언, 구현한다.
- JSX 태그에 prop으로 이벤트를 전달한다.
- 이벤트 핸들러에 전달된 함수는 호출되지 않고 전달되어야 한다. 호출하면 렌더링하는 동안(=렌더링 될 때마다) 즉시 함수가 실행된다.
- 렌더링 할 때마다 내부에서 코드를 실행하는 대신, 나중에 호출할 함수를 생성한다.

<br />

- 일반적으로 컴포넌트 안에 정의한다 .
- 컨벤션: 이벤트 호출 함수는 handle로 시작하는 이름을 붙인다.

<br />

```js
export default function Button() {
  function handleClick() {
    alert("You clicked me!");
  }

  return <button onClick={handleClick}>Click me</button>;
}
```

### Reading props in event handlers

- 이벤트 핸들러는 컴포넌트 내부에 선언되기 때문에, 컴포넌트의 props에 접근할 수 있다.

### Passing event handlers as props

- 부모 컴포넌트가 자식 컴포넌트의 이벤트 핸들러를 지정하려면, prop으로 이벤트 핸들러를 전달한다.

```js
function Button({ onClick, children }) {
  return <button onClick={onClick}>{children}</button>;
}
```

### Naming event handler props

- 내장 컴포넌트(ex. button, div)는 브라우저 이벤트 이름만 지원한다.
- 커스텀 컴포넌트를 만들 때는 원하는 방식으로 이벤트 핸들러 prop의 이름을 지정할 수 있다.
- 컨벤션: on으로 시작하고 그 뒤에 대문자가 와야 한다.

### Stopping progpagation

- onScroll 을 제외한 모든 이벤트는 전파된다.
- 이벤트 핸들러는 이벤트 객체를 유일한 인수로 받는다.
- 이벤트가 상위 구성요소로 전파되는걸 방지하려면 e.stopPropagation() 을 호출해야 한다.

### Preventing default behavior

- 이벤트에는 원치않는 기본 브라우저 동작이 있을 수 있다.
- e.preventDefault()는 이벤트에 대한 기본 브라우저 동작을 방지한다.(ex.form)

### Challenge

```js
// 1. 이벤트 함수를 호출되지 않도록 전달만 함
export default function LightSwitch() {
  function handleClick() {
    let bodyStyle = document.body.style;
    if (bodyStyle.backgroundColor === 'black') {
      bodyStyle.backgroundColor = 'white';
    } else {
      bodyStyle.backgroundColor = 'black';
    }
  }

  return (
    <button onClick={() => handleClick()}>
      Toggle the lights
    </button>
  );
}

// 2. prop 이벤트 핸들러 연결
export default function ColorSwitch({
  onChangeColor
}) {
  return (
    <button onClick={() => onChangeColor()}>
      Change color
    </button>
  );
}

## 2. State: A Components's Memory
-

```

</MainLayout>
